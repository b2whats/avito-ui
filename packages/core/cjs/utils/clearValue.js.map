{"version":3,"sources":["../../src/utils/clearValue.ts"],"names":["clearValue","element","focus","document","activeElement","Error","execCommand","Boolean","value"],"mappings":";;;;;AAAA;;;;AAIO,SAASA,UAAT,CAAoBC,OAApB,EAAiD;AACtD,MAAI,CAACA,OAAL,EAAc;AAEdA,EAAAA,OAAO,CAACC,KAAR;;AACA,MAAIC,QAAQ,CAACC,aAAT,KAA2BH,OAA/B,EAAwC;AACtC,UAAM,IAAII,KAAJ,CAAU,+CAAV,CAAN;AACD;;AAEDF,EAAAA,QAAQ,CAACG,WAAT,CAAqB,WAArB;AACAH,EAAAA,QAAQ,CAACG,WAAT,CAAqB,QAArB;;AAEA,MAAIC,OAAO,CAAEN,OAAD,CAAiBO,KAAlB,CAAX,EAAqC;AACnC,UAAM,IAAIH,KAAJ,CAAU,8BAAV,CAAN;AACD;AACF","sourcesContent":["/**\n * clear editable element using execCommand to preserve undo history\n * NOTE: element must be focusable â€” not disabled / readOnly\n */\nexport function clearValue(element: HTMLElement | null) {\n  if (!element) return\n\n  element.focus()\n  if (document.activeElement !== element) {\n    throw new Error('@avito: can not clear a non-focusable element')\n  }\n\n  document.execCommand('selectAll')\n  document.execCommand('delete')\n\n  if (Boolean((element as any).value)) {\n    throw new Error('@avito: element clear failed')\n  }\n}\n"],"file":"clearValue.js"}