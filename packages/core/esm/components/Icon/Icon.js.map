{"version":3,"sources":["../../../src/components/Icon/Icon.tsx"],"names":["React","css","keyframes","foldThemeParams","createClassName","uiComponent","filterProps","isIE","iconTheme","spinAnimation","iconClassName","themeStyle","props","display","valignSelf","shrink","height","size","textRules","spin","rotate","area","shadow","shadowMask","Icon","theme","tokens","aria","role","tabIndex","onClick","undefined","name","setRef","node","getAttribute","split","w","h","ratio","Number","getBoundingClientRect","style","width","iconStyle","children"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { css, keyframes, foldThemeParams, createClassName } from '../../styled-system/'\nimport { uiComponent } from '../../theme/'\nimport { filterProps, isIE } from '../../utils/'\nimport { BaseIconProps } from './contract'\nimport { iconTheme } from './theme'\n\nconst spinAnimation = keyframes`\n  0% { transform: rotate(0deg) }\n  100% { transform: rotate(360deg) }\n`\n\nconst iconClassName = createClassName<BaseIconProps, typeof iconTheme>(\n  (themeStyle, props) => ({\n    display: 'inline-block',\n    valignSelf: 'middle',\n    shrink: false,\n    ...themeStyle,\n    ...props,\n    height: props.size === 'auto' ? 1 : themeStyle.height || props.size,\n  }),\n  (textRules, { spin, rotate, area, shadow }) => css`\n    fill: currentColor;\n    height: 1em;\n\n    ${area ? `\n      overflow: visible;\n      cursor: pointer;\n\n      & > rect {\n        stroke: transparent;\n        stroke-width: ${area * 2}px;\n        vector-effect: non-scaling-stroke;\n        fill: none;\n      }\n    ` : ''}\n\n    ${// Вложенная анимация это хак, из-за того что в safari вращение происходит не по центру при абсолютном позиционировании элемента\n      spin ? css`\n      ${isIE ? '&' : '& > *'} {\n        animation: ${spinAnimation} ${typeof spin === 'boolean' ? 0.5 : spin}s linear infinite;\n        transform-origin: center;\n      }\n    ` : ''}\n\n    ${rotate ? `transform: rotate(${rotate}deg);` : ''}\n\n    ${shadow ? '& > * { filter: url(#shadow) }' : ''}\n\n    ${textRules}\n  `\n)\n\nconst shadowMask = (\n  <filter id='shadow' x='-50%' y='-50%' width='200%' height='200%' filterUnits='objectBoundingBox'>\n    <feDropShadow dx='0.05' dy='0.05' stdDeviation='1' floodColor='#a9a9a9' floodOpacity='0.8' />\n  </filter>\n)\n\nexport const Icon = uiComponent('Icon', iconTheme)((props: BaseIconProps, { theme, tokens }) => {\n  const aria = {\n    role: 'img',\n    tabIndex: props.onClick ? 0 : undefined,\n    'aria-hidden': true,\n    'data-icon': props.name,\n  }\n\n  // IE11 не верно указывает ширину svg без переданного значения witdh\n  const setRef = (node: any) => {\n    if (!node || !isIE) return\n\n    const [,,w, h] = node.getAttribute('viewBox').split(' ')\n    const ratio = Number(w) / Number(h)\n    const { height } = node.getBoundingClientRect()\n\n    node.style.width = height * ratio + 'px'\n  }\n\n  const { Icon } = foldThemeParams(props, theme)\n  const iconStyle = iconClassName(props, tokens, Icon.style)\n\n  return (\n    <svg {...filterProps(props)} ref={setRef} css={iconStyle} {...aria}>\n      {props.shadow && shadowMask}\n      {props.area && <rect x='0' y='0' width='100%' height='100%' />}\n      { props.children }\n    </svg>\n  )\n})\n"],"file":"Icon.js"}