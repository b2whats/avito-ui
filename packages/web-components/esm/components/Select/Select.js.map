{"version":3,"sources":["../../../src/components/Select/Select.tsx"],"names":["React","css","uiComponent","Text","Input","filterProps","ChevronNarrowIcon","selectTheme","selectStyle","Select","options","getValue","option","value","getText","label","placeholderOption","clearable","placeholder","props","theme","renderCore","selectedOption","find","textState","readOnly","map"],"mappings":";;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,GAAT,EAAcC,WAAd,EAA2BC,IAA3B,EAAiCC,KAAjC,EAAgEC,WAAhE,QAAmF,aAAnF;AACA,SAASC,iBAAT,QAAkC,mBAAlC;AAEA,SAASC,WAAT;;AAEA,IAAMC,WAAW,GAAGP,GAAH,mBAAjB;AAcA,OAAO,IAAMQ,MAAM,GAAGP,WAAW,CAAC,QAAD,EAAWK,WAAX,CAAX,CAAmC,uBAS5B;AAAA,0BAR3BG,OAQ2B;AAAA,MAR3BA,OAQ2B,6BARjB,EAQiB;AAAA,2BAP3BC,QAO2B;AAAA,MAP3BA,QAO2B,8BAPhB,UAAAC,MAAM;AAAA,WAAIA,MAAM,CAACC,KAAX;AAAA,GAOU;AAAA,0BAN3BC,OAM2B;AAAA,MAN3BA,OAM2B,6BANjB,UAAAF,MAAM;AAAA,WAAIA,MAAM,CAACG,KAAX;AAAA,GAMW;AAAA,mCAL3BC,iBAK2B;AAAA,MAL3BA,iBAK2B,sCALP,YAKO;AAAA,4BAJ3BC,SAI2B;AAAA,MAJ3BA,SAI2B,+BAJf,IAIe;AAAA,MAH3BC,WAG2B,QAH3BA,WAG2B;AAAA,MAF3BL,KAE2B,QAF3BA,KAE2B;AAAA,MADxBM,KACwB;;AAAA,MAAZC,KAAY,SAAZA,KAAY;;AAC3B,MAAMC,UAAoC,GAAG,SAAvCA,UAAuC,CAAAF,KAAK,EAAI;AACpD,QAAMG,cAAc,GAAGZ,OAAO,CAACa,IAAR,CAAa,UAAAX,MAAM;AAAA,aAAID,QAAQ,CAACC,MAAD,CAAR,IAAoBO,KAAK,CAACN,KAA9B;AAAA,KAAnB,CAAvB;AACA,QAAMW,SAAS,GAAGF,cAAc,GAAG,EAAH,GAAQ;AAAE,0BAAoB;AAAtB,KAAxC;AACA,WAAQ,oCACN,cAAC,IAAD;AAAM,MAAA,QAAQ;AAAd,OAAmBE,SAAnB,GACGF,cAAc,GAAGR,OAAO,CAACQ,cAAD,CAAV,GAA6BJ,WAD9C,CADM,EAIL,CAACC,KAAK,CAACM,QAAP,IACC,qCACMpB,WAAW,CAACc,KAAD,CADjB;AAEE,MAAA,GAAG,EAAEX;AAFP,QAIG,CAAC,CAACW,KAAK,CAACN,KAAP,IAAgBI,SAAjB,KAA+B;AAAQ,MAAA,KAAK,EAAC;AAAd,OAAkBD,iBAAlB,CAJlC,EAKGN,OAAO,CAACgB,GAAR,CAAY,UAAAd,MAAM,EAAI;AACrB,UAAMC,KAAK,GAAGF,QAAQ,CAACC,MAAD,CAAtB;AACA,aAAO;AAAQ,QAAA,GAAG,EAAEC,KAAb;AAAoB,QAAA,KAAK,EAAEA;AAA3B,SAAmCC,OAAO,CAACF,MAAD,CAA1C,CAAP;AACD,KAHA,CALH,CALI,CAAR;AAiBD,GApBD;;AAqBAC,EAAAA,KAAK,GAAI,CAACA,KAAD,IAAU,CAACG,iBAAX,IAAgCN,OAAO,CAAC,CAAD,CAAxC,GAA+CC,QAAQ,CAACD,OAAO,CAAC,CAAD,CAAR,CAAvD,GAAsEG,KAA9E;AACA,SACE,cAAC,KAAD;AACE,IAAA,SAAS,EAAE,cAAC,iBAAD;AAAmB,MAAA,MAAM,EAAE;AAA3B;AADb,KAEMM,KAFN;AAGE,IAAA,KAAK,EAAEN,KAHT;AAIE,IAAA,QAAQ,EAAEO,KAJZ;AAKE,IAAA,UAAU,EAAEC;AALd,KADF;AASD,CAzCqB,CAAf","sourcesContent":["import React from 'react'\nimport { css, uiComponent, Text, Input, InputProps, InputTheme, filterProps } from '@avito/core'\nimport { ChevronNarrowIcon } from '@avito/core/icons'\nimport { SelectProps } from './contract'\nimport { selectTheme } from './theme'\n\nconst selectStyle = css`\n  outline: none;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  border: none;\n  opacity: 0;\n\n  /* Включить клик */\n  pointer-events: auto;\n`\n\nexport const Select = uiComponent('Select', selectTheme)(({\n  options = [],\n  getValue = option => option.value,\n  getText = option => option.label,\n  placeholderOption = 'Не выбрано',\n  clearable = true,\n  placeholder,\n  value,\n  ...props\n}: SelectProps,{ theme }) => {\n  const renderCore: InputProps['renderCore'] = props => {\n    const selectedOption = options.find(option => getValue(option) == props.value)\n    const textState = selectedOption ? {} : { 'data-placeholder': true }\n    return (<>\n      <Text truncate {...textState}>\n        {selectedOption ? getText(selectedOption) : placeholder}\n      </Text>\n      {!props.readOnly && (\n        <select\n          {...filterProps(props)}\n          css={selectStyle}\n        >\n          {(!props.value || clearable) && <option value=''>{placeholderOption}</option>}\n          {options.map(option => {\n            const value = getValue(option)\n            return <option key={value} value={value}>{getText(option)}</option>\n          })}\n        </select>\n      )}\n    </>)\n  }\n  value = (!value && !placeholderOption && options[0]) ? getValue(options[0]) : value\n  return (\n    <Input\n      iconAfter={<ChevronNarrowIcon rotate={180} />}\n      {...props}\n      value={value}\n      override={theme as InputTheme}\n      renderCore={renderCore}\n    />\n  )\n})\n"],"file":"Select.js"}